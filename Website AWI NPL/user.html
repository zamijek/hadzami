<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nestl√© Pure Life | Dashboard</title>
    <link rel="stylesheet" href="styles3.css">
</head>

<body>
    <header>
        <nav class="navbar">
            <div class="logo">
                <a href="user.html">
                    <img src="gambar/AWI logo.png" alt="Nestl√© Pure Life" />
                </a>
            </div>
            <div class="header-welcome">
                <h1>Selamat Datang Sobat Nestl√© Pure Life</h1>
            </div>
            <div class="tombol-logout">
                <button class="logout-button" onclick="handleLogout()">Logout</button>
            </div>
        </nav>
    </header>

    <!-- Main Container -->
    <div class="dashboard-container">
        <!-- Sidebar Menu -->
        <div class="dashboard-menu">
            <a href="#" onclick="showContent('order')">Buat Pemesanan</a>
            <a href="#" onclick="showContent('stok')">Status Pemesanan</a>
            <a href="#" onclick="showContent('promo')">Program NPL</a>
            <a href="#" onclick="showContent('akun')">Informasi Akun</a>
        </div>

        <!-- Content Section -->
        <div class="dashboard-content">
            <div class="image-container">
                <img id="mainImage" src="gambar/gadingintetepseger.jpg" />
            </div>
            <div id="order" class="content-section">
                <h2>Buat Pemesanan</h2>
                <p>Jumlah minimal pesanan adalah 40 karton!</p>
                <form>
                    <div id="product-list"></div> <!-- Tempat produk akan ditampilkan -->
                </form>
                <!-- Keranjang Belanja -->
                <div id="cart" class="cart-section">
                    <h3>Keranjang Belanja</h3>
                    <ul id="cart-items"></ul>
                    <p>Total Karton: <span id="total-cartons">0</span></p>
                    <p>Total Harga: Rp <span id="total-price">0</span></p>
                    <p><span id="discount"></span></p>
                    <label for="checkout-note">Catatan:</label>
                    <textarea id="checkout-note" placeholder="Tulis catatan untuk pesanan Anda (opsional)"></textarea>
                    <div class="cart-button">
                        <button id="checkout-button" onclick="checkout()" disabled>Checkout</button>
                        <button id="clear-cart-button" onclick="clearCart()">Clear Cart</button>
                    </div>
                </div>
            </div>

            <div id="stok" class="content-section" style="display: none;">
                <!-- Status Pesanan -->
                <h2>Status Pemesanan</h2>
                <div id="detail-pembayaran">
                    <h4>Detail Pembayaran</h4>
                    <p>Order ID: <span id="order-id"></span></p>
                    <p>Diskon: <span id="discount1"></span></p>
                    <p>Total Harga: <span id="final-amount"></span></p>
                    <button onclick="proceedPayment()">Lanjutkan Pembayaran</button>
                    <button id="cancel-order-btn">Batalkan Pesanan</button>
                </div>
                <table class="orderStatusTable" border="1">
                    <thead>
                        <tr>
                            <th rowspan="2">
                                <input type="checkbox" id="select-all" /> <!-- Checkbox Pilih Semua -->
                            </th>
                            <th rowspan="2">OrderId</th>
                            <th rowspan="2">Status</th>
                            <th rowspan="2">Deskripsi</th>
                            <th colspan="3">Ukuran</th>
                            <th rowspan="2">Discount</th>
                            <th rowspan="2">Total Bayar</th>
                        </tr>
                        <tr>
                            <th>330ml</th>
                            <th>600ml</th>
                            <th>1500ml</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Pesanan akan ditampilkan di sini melalui JavaScript -->
                    </tbody>
                </table>
                <div class="bulk-actions">
                    <button onclick="completeSelectedOrders()">Selesai</button>
                    <button id="cancelSelectedOrders" onclick="cancelSelectedOrders()">Batal</button>
                </div>
                
                <!-- Riwayat Pemesanan -->
                <div id="riwayatPemesanan" class="riwayat-Pemesanan">
                    <h4>Riwayat Pemesanan</h4>
                    <table class="order-history-table" aria-label="Tabel riwayat pemesanan" border="1">
                        <thead>
                            <tr>
                                <th rowspan="2">Tanggal</th>
                                <th rowspan="2">Order ID</th>
                                <th colspan="3">Ukuran</th>
                                <th rowspan="2">Jumlah</th>
                                <th rowspan="2">Harga</th>
                                <th rowspan="2">Status</th>
                            </tr>
                            <tr>
                                <th>330ml</th>
                                <th>600ml</th>
                                <th>1500ml</th>
                            </tr>
                        </thead>
                        <tbody id="orderHistoryBody">
                            <!-- Baris riwayat pemesanan akan dimuat secara dinamis melalui JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>

            <div id="promo" class="content-section" style="display: none;">
                <h2>Program dan Promo Nestl√© Pure Life</h2>
                <p>Untuk informasi lebih lanjut, Anda bisa membaca lampiran di bawah ini :</p>
                <ul>
                    <li>Bonus 2 karton Nestl√© Pure Life 600ml untuk setiap pembelian 40 karton.</li>
                    <li>Dapatkkan cashback setiap target pembelian anda tercapai !.</li>
                </ul>
                <p>Unduh informasi lengkap di sini :</p>
                <a href="PROMO NPL 40+2 DAN PROGRAM NPL.pdf" download>üì• Download PDF</a>
                <p>Atau baca langsung di browser :</p>
                <a href="PROMO NPL 40+2 DAN PROGRAM NPL.pdf" target="_blank">üìñ Baca PDF</a>
                <p>Ayo daftarkan usaha Anda pada Program Nestl√© Pure Life, nikmati bonus dan dapatkan cashbacknya !</p>
                <p>Belum daftar program ? Daftarkan usaha Anda pada Program Nestl√© Pure Life di bawah ini !</p>
                <a href="#" id="showProgramSelection" onclick="showProgramOptions()">Pilih Program Nestl√© Pure Life</a>

                <div id="programOptions" class="program-options">
                    <form id="programSelectionForm">
                        <div class="form-group">
                            <h3>Pilih Kategori :</h3>
                            <select name="categoryOption" id="categoryOption" required>
                                <option value="" disabled selected>Pilih kategori</option>
                                <option value="NaturaReguler">Natura Reguler</option>
                                <option value="NaturaGromin">Natura Gromin</option>
                            </select>
                        </div><br>
                        <div class="form-group">
                            <h3>Pilih Program yang Diinginkan:</h3>
                            <select name="programOption" id="programOption" required>
                                <option value="" disabled selected>Pilih program</option>
                                <!-- Opsi program akan dimuat di sini -->
                            </select>
                        </div><br>
                        <button type="submit">Daftar Program</button>
                    </form>
                </div>
                <div id="programStatus" class="program-status">
                    <h3>Status Program</h3>
                    <p id="statusMessage">Anda telah terdaftar pada program berikut:</p>
                    <ul id="registeredPrograms">
                        <!-- Daftar program yang diikuti akan ditampilkan di sini -->
                    </ul>
                </div>
            </div>

            <div id="akun" class="content-section">
                <h2>Informasi Akun</h2>
                <p>Nama: <span id="userName"></span></p>
                <p>Tempat dan Tanggal Lahir: <span id="userBirth"></span></p>
                <p>Email: <span id="userEmail"></span></p>
                <p>Nomor Handphone: <span id="userNo"></span></p>
                <p>Alamat: <span id="userAddress"></span></p>
                <p>Nama Toko: <span id="userShopName"></span></p>
                <p>Alamat Toko: <span id="userShopAddress"></span></p>
                <button onclick="editAccount()">Edit Akun</button>
                <button onclick="toggleChangePasswordForm()">Ganti Password</button>
            </div>
            <div id="editAccountSection" class="content-section" style="display: none;">
                <h2>Edit Akun</h2>
                <form id="editAccountForm">
                    <label for="name">Nama:</label><br>
                    <input type="text" id="name" name="name"><br><br>

                    <label for="birth">Tempat dan Tanggal Lahir:</label><br>
                    <input type="text" id="birth" name="birth"><br><br>

                    <label for="email">Email:</label><br>
                    <input type="email" id="email" name="email"><br><br>

                    <label for="phone">Nomor Handphone:</label><br>
                    <input type="text" id="phone" name="phone"><br><br>

                    <label for="address">Alamat:</label><br>
                    <textarea type="text" id="address" name="address"></textarea><br><br>

                    <label for="shopName">Nama Toko:</label><br>
                    <input type="text" id="shopName" name="shopName"><br><br>

                    <label for="shopAddress">Alamat Toko:</label><br>
                    <textarea type="text" id="shopAddress" name="shopAddress"></textarea><br><br>

                    <button type="button" onclick="saveAccount()">Simpan</button>
                    <button type="button" onclick="cancelEdit()">Batal</button>
                </form>
            </div>
            <div id="changePasswordSection" class="content-section" style="display: none;">
                <h2>Ganti Password</h2>
                <form id="changePasswordForm">
                    <label for="currentPassword">Password Lama:</label><br>
                    <input type="password" id="currentPassword" name="currentPassword" required><br><br>

                    <label for="newPassword">Password Baru:</label><br>
                    <input type="password" id="newPassword" name="newPassword" required><br><br>

                    <label for="confirmPassword">Konfirmasi Password Baru:</label><br>
                    <input type="password" id="confirmPassword" name="confirmPassword" required><br><br>

                    <button type="button" onclick="changePassword()">Ganti Password</button>
                    <button type="button" onclick="cancelEdit2()">Batal</button>
                </form>
            </div>
        </div>
    </div>

    <footer class="footermarks">
        <p>&copy; 2024 Nestl√© Pure Life. All rights reserved.</p>
    </footer>

    <script src="script/user.js"></script>
    <script src="script/app.js"></script>
    <script src="https://app.sandbox.midtrans.com/snap/snap.js"
        data-client-key="SB-Mid-client-pisRlG5AllHLecGm"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

</body>

</html>